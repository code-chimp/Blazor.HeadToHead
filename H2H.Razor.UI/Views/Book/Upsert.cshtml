@model H2H.Razor.UI.Models.BookViewModel

@{
  Layout = "_Layout";
  var title = "Create Book";
}

<form method="post">
  <div class="row p-3 border">
    <div class="text-danger" asp-validation-summary="ModelOnly"></div>
    <input type="hidden" asp-for="Book.Id"/>
    @if (Model.Book == null || Model.Book.Id != 0)
    {
      title = "Edit Book";
    }
    <div class="col-12 border-bottom">
      <h2 class="text-primary">@title</h2>
    </div>
    <div class="col-8 pt-4">
      <div class="form-group row">
        <div class="col-4">
          <label asp-for="Book.Title"></label>
        </div>
        <div class="col-8">
          <input type="text" class="form-control" asp-for="Book.Title"/>
          <span class="text-danger" asp-validation-for="Book.Title"></span>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-4">
          <label asp-for="Book.ISBN"></label>
        </div>
        <div class="col-8">
          <input type="text" class="form-control" asp-for="Book.ISBN"/>
          <span class="text-danger" asp-validation-for="Book.ISBN"></span>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-4">
          <label asp-for="Book.Price"></label>
        </div>
        <div class="col-8">
          <input type="text" class="form-control" asp-for="Book.Price"/>
          <span class="text-danger" asp-validation-for="Book.Price"></span>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-4">
          <label asp-for="Book.PublisherId"></label>
        </div>
        <div class="col-8">
          <select class="form-control" asp-for="Book.PublisherId" asp-items="Model.Publishers">
            <option value="">Choose a publisher...</option>
          </select>
          <span class="text-danger" asp-validation-for="Book.PublisherId"></span>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-4 offset-4">
          @if (Model.Book != null && Model.Book.Id != 0)
          {
            <button type="submit" class="btn btn-primary form-control">Update</button>
          }
          else
          {
            <button type="submit" class="btn btn-primary form-control">Add</button>
          }
        </div>
        <div class="col-4">
          <a class="btn btn-success form-control" asp-action="Index">Back to List</a>
        </div>
      </div>
    </div>
  </div>
</form>

@section Scripts
{
  <partial name="_ValidationScriptsPartial"/>
}
